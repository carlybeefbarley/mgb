import React, { PropTypes } from 'react';
import ReactDOM from 'react-dom';
import reactMixin from 'react-mixin';
import {History} from 'react-router';
import Icon from '../../Icons/Icon.js';

@reactMixin.decorate(History)
export default class EditGraphic extends React.Component {
  static PropTypes = {
    asset: PropTypes.object,
    handleContentChange: PropTypes.function
  }


  componentDidMount() {
    this.canvas =  ReactDOM.findDOMNode(this.refs.editCanvas);
    this.ctx = this.canvas.getContext('2d');

    this.ctx.fillStyle = '#a0c0c0';
    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);

    let asset = this.props.asset;

    if (asset.hasOwnProperty('content') && asset.content.startsWith("data:image/png;base64,"))
    {
      var _img = new Image;
      var _ctx= this.ctx;
      _img.src = asset.content;   // data uri, e.g.   'data:image/png;base64,FFFFFFFFFFF' etc
      _img.onload = function() {
        _ctx.drawImage(_img,0,0); // needs to be done in onload...
      }
    }

    this.canvas.addEventListener('mousemove',  this.handleMouseMove.bind(this));
    this.canvas.addEventListener('mousedown',  this.handleMouseDown.bind(this));
    this.canvas.addEventListener('mouseup',    this.handleMouseUp.bind(this));
    this.canvas.addEventListener('mouseleave', this.handleMouseUp.bind(this));

    this.mgb_toolActive = false;
}

  handleMouseDown(event)
  {
    this.mgb_toolActive = true;
    this._pixelDrawAt(event, 'red')
  }

  handleMouseUp(event)
  {
    this.mgb_toolActive = false;
  }

  _pixelDrawAt(event, color)
  {
    let x = event.offsetX & 0xfff8;
    let y = event.offsetY & 0xfff8;
    this.ctx.fillStyle = color;
    this.ctx.fillRect(x, y, 6, 6);
  }

  handleMouseMove(event)
  {
    if (this.mgb_toolActive) {
      this._pixelDrawAt(event, 'red')
    }
    $(event.target).css('cursor','crosshair');
  }

  handleSave()
  {
    let x = this.canvas.toDataURL('image/png');
    this.props.handleContentChange(x);
  }

  render() {

    let asset = this.props.asset;

    // image test...           <img alt="star" src={s} />
    //  let d = "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"
    //  let s= "data:image/gif;base64," + d

    return (
      <div className="ui grid">

        <div className="ui three wide column">
          <div className="ui vertical fluid tabular menu">
            <a className="item">
              <i className="paint brush icon"></i>
              Paint
            </a>
            <a className="item">
              <i className="eraser icon"></i>
              Erase
            </a>
            <a className="item">
              <i className="block layout icon"></i>
              Shape
            </a>
            <a className="item" onClick={this.handleSave.bind(this)}>
              <i className="save icon" ></i>
              Save
            </a>
          </div>
        </div>

        <div className="ui eight wide column  ">
          <p>
            Edit {asset.kind} '{asset.name}'
          </p>
          <canvas ref="editCanvas" width="400" height="200"></canvas>
        </div>

      </div>
    )
  }
}
